<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Deposit</title>
    <style>
        /* General styling */
        body {
            font-family: Arial, sans-serif;
            background-color: #f0f2f5;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
        }

        /* Card styling */
        .card {
            background-color: #ffffff;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            border-radius: 8px;
            padding: 20px;
            max-width: 400px;
            width: 100%;
            text-align: center;
        }

        /* Form styling */
        form {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        /* Label and input styling */
        label {
            font-size: 1rem;
            color: #333;
        }

        input[type="number"] {
            padding: 10px;
            font-size: 1rem;
            border: 1px solid #ccc;
            border-radius: 4px;
            width: 100%;
            box-sizing: border-box;
        }

        /* Button styling */
        button {
            padding: 10px 20px;
            font-size: 1rem;
            color: #fff;
            background-color: #007bff;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }

        button:hover {
            background-color: #0056b3;
        }

        /* Result div styling */
        #result {
            margin-top: 20px;
            font-size: 1rem;
            color: #333;
        }

        /* Heading styling */
        h1 {
            margin-bottom: 20px;
            color: #007bff;
        }
    </style>
</head>

<body>
    <!-- <div class="card">
        <h1>Make a Deposit</h1>
        <form id="deposit-form">
            <label for="amount">Amount:</label>
            <input type="number" id="amount" name="amount" required>
            <button type="submit">Deposit</button>
        </form>
        <div id="result"></div>
    </div>
 -->




    <main class="max-w-screen-xl mx-auto px-8 md:px-16 lg:px-24 pt-2 mt-2">
        <h1 class="font-bold text-4xl text-center mb-8">Deposit</h1>
        <div class="grid grid-cols-1">
            <div class="my-auto">
                <div class="p-8 rounded">
                    <form method="POST">
                        <div class="mt-4">
                            <label for="amount" class="block text-lg font-medium text-gray-700">Amount</label>
                            <input type="number"
                                class="bg-gray-100 border border-gray-200 rounded py-1 px-3 block focus:ring-blue-500 focus:border-blue-500 text-gray-700 w-full"
                                id="amount" name="amount" required>
                        </div>


                        <div class="space-x-4 mt-8">
                            <button type="submit" onclick="handleDeposit(event)"
                                class="bg-[#005F86] text-white hover:text-black hover:bg-white py-2 px-6 rounded text-lg font-semibold transition duration-300 ease-in-out transform hover:scale-105 hover:shadow-lg w-full">
                                Deposit
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>

    </main>





    <script>
        const token = localStorage.getItem("token");
        if (!token) {
            window.location.href = "login.html";
        }
        const handleDeposit = (event) => {
            event.preventDefault();
            const amnt = document.getElementById("amount").value;
            const amount = parseInt(amnt)
            const acnt = localStorage.getItem("user_id")
            const account = parseInt(acnt)
            console.log(amount, account);
            if ((typeof amount === 'number') && (typeof account === 'number')) {
                console.log("Yes it is a number");
                try {
                    var res;
                    fetch('https://blueskybooking.onrender.com/user/deposit/', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                        },
                        body: JSON.stringify({ amount, account })
                    })
                        .then((response) => {
                            response.json();
                        })
                        .then((data) => {
                            alert(`You Have Successfully Deposited ${amount}$`)
                            window.location.href = "dashboard.html"
                        })

                } catch (error) {

                }
            } else {
                console.log("Invalid input");
            }
        }
    </script>
</body>

</html>